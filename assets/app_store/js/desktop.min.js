var loadDialog=!0;
function initDesktop(a){host=a;var b=new XMLHttpRequest;b.onreadystatechange=function(){if(4==b.readyState&&200==b.status){document.getElementById("sidebar").innerHTML=b.responseText;document.getElementById("changeButton").addEventListener("click",openDialog);var a=document.getElementById("mobileSearch");a&&(document.getElementById("desktopSearch").value=a.value);var a=document.getElementById("sidetabs"),c=document.getElementById("toptabs");if(c)for(var d=0;d<c.children.length;d++)a.appendChild(c.children[d].cloneNode(!0));else a.parentNode.parentNode.removeChild(a.parentNode)}};
    b.open("GET",host+"ajax.php?a=side",!0);b.send();"undefined"!==typeof productId&&productId&&loadScreenshots()}function openDialog(a){a&&a.preventDefault();document.body.className="modal-open";loadDialog?loadModelDialog():(a=document.getElementById("chooseDevice"),a.style.display="block",a.className="modal fade in",document.getElementById("modalBg").style.display="block")}
function closeDialog(a){a.preventDefault();document.body.className="";a=document.getElementById("chooseDevice");a.style.display="";a.className="modal fade";document.getElementById("modalBg").style.display="none"}
function loadModelDialog(){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){document.getElementById("chooseDevice").innerHTML=a.responseText;document.getElementById("closeModal").addEventListener("click",closeDialog);document.getElementById("closeModalButton").addEventListener("click",closeDialog);var b=document.getElementById("handlers");if(b){for(var e=0;e<b.children.length;e++)b.children[e].addEventListener("click",filterPhones);loadNokiaModelData()}else document.getElementById("searchModelBnt").addEventListener("click",
    loadModelData),loadDialog=!1,openDialog()}};a.open("GET",host+"ajax.php?a=devices",!0);a.send()}
function loadModelData(){var a=document.getElementById("searchModel").value;if(!(2>a.length)){var b=new XMLHttpRequest;b.onreadystatechange=function(){if(4==b.readyState&&200==b.status){for(var a=JSON.parse(b.responseText),c=document.getElementById("deviceList");c.firstChild;)c.removeChild(c.firstChild);for(var d=0;d<a.models.length;d++){var f=document.createElement("li");f.className="classic product";var g=document.createElement("a");g.href="http://"+a.models[d][0]+a.host;g.title=a.models[d][1];
    var h=document.createElement("img");h.src=a.models[d][2].length?a.cdn+"modimgres/"+a.models[d][2]:a.cdn+"html/img/desktop_2013/devices/other.png";var k=document.createElement("span"),l=document.createTextNode(a.models[d][1]);k.appendChild(l);g.appendChild(h);g.appendChild(k);f.appendChild(g);c.appendChild(f)}}};b.open("GET",host+"ajax.php?a=models&q="+a,!0);b.send()}}
function loadScreenshots(){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){for(var b=JSON.parse(a.responseText),e=document.getElementById("screenshots");e.children.length;)e.removeChild(e.children[0]);for(var c=0;c<b.length;c++){var d=document.createElement("img");d.src=b[c];0<c&&(d.className="desktop-content");e.appendChild(d)}}};a.open("GET",host+"ajax.php?a=screenshots&p="+productId,!0);a.send()}
function loadNokiaModelData(){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){for(var b=JSON.parse(a.responseText),e=document.getElementById("deviceList"),c=0;c<b.models.length;c++){var d=document.createElement("li");d.className=b.models[c][2]+" product";var f=document.createElement("a");f.href="http://"+b.models[c][0]+b.host;f.title=b.models[c][1];var g=document.createElement("img");g.src=b.cdn+"public/img/model/"+b.models[c][0]+"."+b.models[c][3];var h=
    document.createElement("span"),k=document.createTextNode(b.models[c][1]);h.appendChild(k);f.appendChild(g);f.appendChild(h);d.appendChild(f);e.appendChild(d)}loadDialog=!1;openDialog()}};a.open("GET",host+"ajax.php?a=models_nokia",!0);a.send()}
function filterPhones(a){a.preventDefault();for(var b=a.currentTarget.title,e=document.getElementById("deviceList").children,c=0;c<e.length;c++)-1===e[c].className.indexOf(b)?e[c].style.display="none":e[c].style.display="";b=document.getElementById("handlers");for(c=0;c<b.children.length;c++)b.children[c].className=b.children[c].className.replace("active","");a.currentTarget.className+=" active";a.currentTarget.className=a.currentTarget.className.replace("  "," ")};